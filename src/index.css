@tailwind base;
@tailwind components;
@tailwind utilities;

/* Base optimizations */
html {
  text-size-adjust: 100%;
  -webkit-text-size-adjust: 100%;
  scroll-behavior: smooth;
}

body {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Optimize scrolling container */
.scroll-container {
  contain: content;
  content-visibility: auto;
}

/* Optimize fixed elements */
.fixed-element {
  contain: layout style paint;
  will-change: transform;
  backface-visibility: hidden;
  transform: translateZ(0);
}

/* Mobile optimizations */
@media (max-width: 768px) {
  * {
    -webkit-tap-highlight-color: transparent;
  }
  
  .scroll-smooth {
    -webkit-overflow-scrolling: touch;
    scroll-behavior: smooth;
  }

  .shadow-md {
    box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.05), 
                0 2px 4px -2px rgb(0 0 0 / 0.05);
  }

  .shadow-lg {
    box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.05), 
                0 4px 6px -4px rgb(0 0 0 / 0.05);
  }

  .shadow-xl {
    box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.05), 
                0 8px 10px -6px rgb(0 0 0 / 0.05);
  }

  .fixed {
    transform: translateZ(0);
    backface-visibility: hidden;
    perspective: 1000;
  }
}

/* Reduce motion when requested */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* Custom Calendar Styles */
.mr-calendar {
  @apply w-full bg-transparent border-0 shadow-none rounded-xl overflow-hidden;
}

.mr-calendar .react-datepicker__month-container {
  @apply w-full float-none;
}

.mr-calendar .react-datepicker__header {
  @apply bg-transparent border-0 pb-4;
}

.mr-calendar .react-datepicker__current-month {
  @apply text-gray-900 font-semibold py-3 text-lg;
}

.mr-calendar .react-datepicker__day-names {
  @apply border-b border-gray-100 pb-2 mb-2;
}

.mr-calendar .react-datepicker__day-name {
  @apply text-gray-500 text-xs font-medium w-[calc(100%/7)] inline-block;
}

.mr-calendar .react-datepicker__month {
  @apply m-0;
}

.mr-calendar .react-datepicker__week {
  @apply flex;
}

.mr-calendar .react-datepicker__day {
  @apply m-0 p-1 w-[calc(100%/7)] h-16 flex flex-col items-center justify-start 
    hover:bg-blue-50 hover:text-blue-600 relative border border-transparent;
}

.mr-calendar .react-datepicker__day--selected {
  @apply bg-blue-600 text-white hover:bg-blue-700 hover:text-white border-blue-300;
}

.mr-calendar .react-datepicker__day--keyboard-selected {
  @apply bg-blue-50 text-blue-600 hover:bg-blue-100;
}

.mr-calendar .react-datepicker__day--disabled {
  @apply text-gray-300 hover:bg-transparent cursor-not-allowed opacity-50;
}

.mr-calendar .react-datepicker__day--weekend {
  @apply text-gray-400;
}

.mr-calendar .react-datepicker__day--outside-month {
  @apply text-gray-300 pointer-events-none opacity-0;
}

.mr-calendar .react-datepicker__navigation {
  @apply top-3;
}

.mr-calendar .react-datepicker__navigation--previous {
  @apply left-4 w-8 h-8 rounded-full hover:bg-gray-100 transition-colors;
}

.mr-calendar .react-datepicker__navigation--next {
  @apply right-4 w-8 h-8 rounded-full hover:bg-gray-100 transition-colors;
}

.mr-calendar .react-datepicker__navigation-icon::before {
  @apply border-gray-400;
}

/* Calendar day content */
.mr-calendar-day {
  @apply w-full h-full flex flex-col items-center gap-1 pt-1.5;
}

.mr-calendar-day__number {
  @apply text-sm font-medium;
}

.mr-calendar-day__slots {
  @apply text-[10px] text-gray-500 bg-gray-50/80 px-1.5 py-0.5 rounded-sm;
}

.mr-calendar-day__indicator {
  @apply absolute top-1 right-1 w-1.5 h-1.5 rounded-full;
}

.mr-calendar-day__indicator--available {
  @apply bg-green-500;
}

.mr-calendar-day__indicator--full {
  @apply bg-red-500;
}

/* Calendar legend */
.mr-calendar__legend {
  @apply flex items-center gap-4 mt-4 px-4 justify-center border-t border-gray-100 pt-4;
}

.mr-calendar__legend-item {
  @apply flex items-center gap-1.5 text-xs text-gray-500;
}

.mr-calendar__legend-dot {
  @apply w-1.5 h-1.5 rounded-full;
}