@tailwind base;
@tailwind components;
@tailwind utilities;

/* Base optimizations */
html {
  text-size-adjust: 100%;
  -webkit-text-size-adjust: 100%;
  scroll-behavior: smooth;
}

body {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Optimize scrolling container */
.scroll-container {
  contain: content;
  content-visibility: auto;
}

/* Optimize fixed elements */
.fixed-element {
  contain: layout style paint;
  will-change: transform;
  backface-visibility: hidden;
  transform: translateZ(0);
}

/* Mobile optimizations */
@media (max-width: 768px) {
  * {
    -webkit-tap-highlight-color: transparent;
  }
  
  .scroll-smooth {
    -webkit-overflow-scrolling: touch;
    scroll-behavior: smooth;
  }

  .shadow-md {
    box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.05), 
                0 2px 4px -2px rgb(0 0 0 / 0.05);
  }

  .shadow-lg {
    box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.05), 
                0 4px 6px -4px rgb(0 0 0 / 0.05);
  }

  .shadow-xl {
    box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.05), 
                0 8px 10px -6px rgb(0 0 0 / 0.05);
  }

  .fixed {
    transform: translateZ(0);
    backface-visibility: hidden;
    perspective: 1000;
  }
}

/* Reduce motion when requested */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* Custom Calendar Styles */
.mr-calendar {
  @apply w-full bg-transparent border-0 shadow-none rounded-xl overflow-hidden;
}

.mr-calendar .react-datepicker__month-container {
  @apply w-full float-none bg-white rounded-xl shadow-sm border border-gray-100;
}

.mr-calendar .react-datepicker__header {
  @apply bg-white border-0 pb-4 rounded-t-xl;
}

.mr-calendar .react-datepicker__current-month {
  @apply text-gray-900 font-semibold py-4 text-lg;
}

.mr-calendar .react-datepicker__day-names {
  @apply border-b border-gray-100 pb-2 mb-2 pt-4 bg-white flex justify-between px-2;
}

.mr-calendar .react-datepicker__day-name {
  @apply text-gray-500 text-xs font-medium w-[calc(100%/7)] inline-block text-center;
}

.mr-calendar .react-datepicker__month {
  @apply m-0 p-2;
}

.mr-calendar .react-datepicker__week {
  @apply flex justify-between mb-1;
}

.mr-calendar .react-datepicker__day {
  @apply m-0.5 p-1 w-[calc(100%/7-0.5rem)] h-20 flex flex-col items-center justify-start 
    hover:bg-blue-50 hover:text-blue-600 relative border border-transparent rounded-xl
    transition-all duration-300 ease-in-out transform hover:scale-[1.02] bg-white text-gray-900
    hover:shadow-sm hover:border-blue-100;
}

.mr-calendar .react-datepicker__day--selected {
  @apply bg-blue-600 text-white hover:bg-blue-700 hover:text-white border-blue-300 shadow-sm
    scale-[1.02] hover:scale-[1.03];
}

.mr-calendar .react-datepicker__day--selected .mr-calendar-day__slots {
  @apply text-white;
}

.mr-calendar .react-datepicker__day--keyboard-selected {
  @apply bg-blue-50 text-blue-600 hover:bg-blue-100;
}

.mr-calendar .react-datepicker__day--disabled {
  @apply text-gray-300 hover:bg-gray-50/50 cursor-not-allowed opacity-50
    transform-none hover:scale-100 hover:shadow-none hover:border-transparent;
}

.mr-calendar .react-datepicker__day--outside-month {
  @apply text-gray-300 pointer-events-none opacity-0;
}

.mr-calendar .react-datepicker__navigation {
  @apply top-4 z-10;
}

.mr-calendar .react-datepicker__navigation--previous {
  @apply left-4 w-8 h-8 rounded-full hover:bg-gray-100 transition-colors;
}

.mr-calendar .react-datepicker__navigation--next {
  @apply right-4 w-8 h-8 rounded-full hover:bg-gray-100 transition-colors;
}

.mr-calendar .react-datepicker__navigation-icon::before {
  @apply border-gray-400;
}

/* Calendar day content */
.mr-calendar-day {
  @apply w-full h-full flex flex-col items-center pt-2 transition-all duration-300 ease-in-out;
}

.mr-calendar-day__number {
  @apply text-sm font-medium mb-1 transition-colors duration-300 ease-in-out;
}

.mr-calendar-day__slots {
  @apply text-[10px] text-gray-500 font-medium transition-colors duration-300 ease-in-out;
}

.mr-calendar-day__indicator {
  @apply absolute top-2 right-2 w-2 h-2 rounded-full transition-all duration-300 ease-in-out;
}

.mr-calendar-day__indicator--available {
  @apply bg-green-500 shadow-sm shadow-green-500/20;
}

.mr-calendar-day__indicator--full {
  @apply bg-red-500 shadow-sm shadow-red-500/20;
}

/* Calendar legend */
.mr-calendar__legend {
  @apply flex items-center gap-6 mt-6 px-6 justify-center border-t border-gray-100 pt-4 pb-2 bg-white;
}

.mr-calendar__legend-item {
  @apply flex items-center gap-2 text-sm text-gray-600;
}

.mr-calendar__legend-dot {
  @apply w-2 h-2 rounded-full shadow-sm transition-all duration-300 ease-in-out;
}

.mr-calendar__legend-dot--available {
  @apply bg-green-500 shadow-green-500/20;
}

.mr-calendar__legend-dot--full {
  @apply bg-red-500 shadow-red-500/20;
}

.mr-calendar__legend-dot--disabled {
  @apply bg-gray-300 shadow-gray-300/20;
}